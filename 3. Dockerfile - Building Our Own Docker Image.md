# 3. Dockerfile - Building Our Own Docker Image

![image](https://user-images.githubusercontent.com/107522496/203766128-48f3e591-57c9-4c45-aa15-ed58119d471f.png)

<!-- 1:41:54 --> 

![image](https://user-images.githubusercontent.com/107522496/203770977-20f3734b-d72a-451f-878f-2ca46a21af1c.png)

Next, we are going to build our own Docker image from a JavaScript application.

Consider the following scenario: you have developed an application feature, you have tested it, 
and now you're ready to deploy it. 

To deploy it, the application needs to be packaged into it's own docker container. 

This means we will need to build a docker image from our JavaScript Node JS application and  and 
prepare it to be deployed on some environment to review

---

Review from 1:42:21 till 1:43:44

---

![image](https://user-images.githubusercontent.com/107522496/203772775-4202d7e8-b517-4071-a21d-8575a4b32a31.png)

In order to build a docker image from an application, we have to copy the contents of the application into the 
Docker File. It could be an artifact that we built.

We also need to configure it and we can do this by using a blueprint for building images, which is called
a docker file.

---

# What is a docker file and what does it looks like

Dcoker File is a blueprint to creating docker images. 

## Syntax of Docker File

The first line of a docker file is: `FROM {name_of_image}`

![image](https://user-images.githubusercontent.com/107522496/203792940-5e2c2976-41a6-4914-aca8-b31ae735d168.png)


Whatever image you are building, you always want to base it on another image. In our case, we have a JavaScript application with Node JS backend, so we are going to need a node inside of our container so that it can run our node application instead of basing it on a Linux Alpine or some other lower level image, because then we would have to install node ourselves on it.

---

![image](https://user-images.githubusercontent.com/107522496/203793659-66ae60f7-b896-4440-a569-2a40e1bc9f3e.png)

So we will be taking a ready node image. And in order to see that, let's actually go to Docker Hub.

Here, we have a ready Node image that we can base our own image from.

---

![image](https://user-images.githubusercontent.com/107522496/203794055-3a262ee7-4c99-4f17-9862-a3fdf55bb6ee.png)

So, this means that we will have Node installed inside of our image. 

So, when we start a container and we actually get a terminal of the container, we can see that node command is available because there is node installed there. This is what `FROM node` gives us.

---


Next, we can configure enviromental variables inside of our docker file

`ENV` this command allows us to set the environmental variables inside of the image environment.

---

![image](https://user-images.githubusercontent.com/107522496/203794910-60bab933-76df-4376-8c66-51d0a46055ae.png)

Next command is `RUN`.

All these Capital Letter Commands we see are a part of a Syntex of a docker file...

![image](https://user-images.githubusercontent.com/107522496/203795558-aedc25dc-95d6-4b47-82cd-fbb9e44bc0e7.png)

using `RUN`, csn run any kind of Linux command.  

---

![image](https://user-images.githubusercontent.com/107522496/203795681-05fc126f-2af0-4f8a-b571-8a14a0f7bf19.png)

Important to note: this directory is going to live inside of the container. So when we start a container from this image, this /home/App directory will be created inside of the container, and not on my laptop/host.

> All the commands we use in the docker file, will apply to the container enviromentand will not affect host/laptop enviroment. 

`RUN` is used to run Linux commands. This is one fo the most used commands. 

---

![image](https://user-images.githubusercontent.com/107522496/203811948-d161340e-17bf-49e1-93f8-7f2d0e2fcaf2.png)

Wel aso have a `COPY` command. 

The copy command that you see here, it actually executes on the host. And you see the first parameter is `.` and the second parameter is `/home/app`. So source and the target.

So I can copy files that I have on my host inside of that container image.

Because if I were to execute `run cp <source> <destination>`, this command would execute inside of the Docker container, but I have the files I want to copy, on my host.

---

![image](https://user-images.githubusercontent.com/107522496/203813480-0d97c320-3c05-41e8-bcd6-f433de269200.png)

The last one is `CMD`. This is always part of the Docker File. It executes an entry point Linux command

 So this line what the command translates to is node server.js.






























































